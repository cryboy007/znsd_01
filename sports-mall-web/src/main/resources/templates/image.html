<!DOCTYPE html>
<html lang="zh" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js点击按钮动画粒子特效</title>
    <link rel="stylesheet" type="text/css" href="css/base.css"/>
    <script>document.documentElement.className = "js";
    var supportsCssVars = function () {
        var e, t = document.createElement("style");
        return t.innerHTML = "root: { --tmp-var: bold; }", document.head.appendChild(t), e = !!(window.CSS && window.CSS.supports && window.CSS.supports("font-weight", "var(--tmp-var)")), t.parentNode.removeChild(t), e
    };
    supportsCssVars() || alert("Please view this demo in a modern browser that supports CSS Variables.");</script>
</head>

<body class="demo-1">
<div style="width: 160px">
    <input style="width: 50px; height: 38px; border: 2px white; float: left;" type="button" value="-"
           οnclick="reductionOf(this)"/>

    <input style="text-align: center; width: 50px; height: 32px; float: left;" type="text" value="1"
           οnblur="checkNumber(this)"/>

    <input style="width: 50px; height: 38px; border: 2px white;" type="button" value="+" οnclick="add(this)"/>
</div>


<script>

    //减数量
    function reductionOf(obj) {
        //减前判断
        if ($(obj).next().val() == '') {
            $(obj).next().val(1);
        }
        $(obj).next().val(parseInt($(obj).next().val()) - 1);//数值减
        $(obj).next().val($(obj).next().val());//赋值给框
    };

    //加数量
    function add(obj) {
        //加前判断
        if ($(obj).prev().val() == '') {
            $(obj).prev().val(1);
        }
        $(obj).prev().val(parseInt($(obj).prev().val()) + 1);//数值加
        $(obj).prev().val($(obj).prev().val());//赋值给框
    };

    //校验数字格式（只能输入正整数）
    function checkNumber(obj) {
        var reg = /^[1-9]\d*$/;
        if (!reg.test($(obj).val()) || $(obj).val() == '') {
            $(obj).val(1);
        }
    }
</script>
</body>
</html>